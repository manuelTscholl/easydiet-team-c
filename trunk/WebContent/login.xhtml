<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.prime.com.tr/ui">

<h:head>
	<title>EasyDiet</title>
	<link rel="stylesheet" type="text/css" href="style.css"></link>
	<script type="text/javascript">
        	function handleLoginRequest(xhr, status, args) {	
        		if(!args.validationFailed &amp;&amp; args.loggedIn){
        			window.location.replace("index.jsf");
        		} else {
        			alert(args.exception);
        		}
        	}
        </script>
</h:head>
<h:body>
	<h:form>
	
		<table cellspacing="10">
			<tr>
				<td><h:outputLabel for="username" value="Benutzername" /></td>
				<td><p:inputText id="username"
						value="#{webController.username}" required="true" label="username" />
				</td>
			</tr>
			<tr>
				<td><h:outputLabel for="password" value="Passwort" /></td>
				<td><h:inputSecret id="password"
						value="#{webController.password}" required="true" label="password" />
				</td>
			</tr>
			<tr>
				<td></td>
				<td><p:commandButton styleClass="button" value="Login"
						actionListener="#{webController.loginPatient}"
						oncomplete="handleLoginRequest(xhr, status,args)" /></td>
			</tr>
		</table>
	</h:form>
</h:body>
</html>

